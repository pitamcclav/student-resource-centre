(()=>{var e={};e.id=578,e.ids=[578],e.modules={6330:e=>{"use strict";e.exports=require("@prisma/client")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},3544:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>i});var s=r(260),t=r(8203),o=r(5155),l=r.n(o),n=r(7292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let i=["",{children:["admin",{children:["programs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2765)),"C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\admin\\programs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6038)),"C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\admin\\programs\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/admin/programs/page",pathname:"/admin/programs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},2353:(e,a,r)=>{"use strict";r.r(a),r.d(a,{"4018d6ea0ba7cf7d8bbbf9321d2cafd34e0b64ad31":()=>d,"40c30ad529826d855aa0f4ff34e88823dfd459ce82":()=>n,"40fe00409c8995953620122ffef86ff2895f191adc":()=>c,"60cf02a8bdb0761cfb276abdf436720be179b06ad5":()=>i});var s=r(1590);r(376);var t=r(6330),o=r(9344);let l=new t.PrismaClient;async function n(e){try{return(await l.program.findMany({where:{OR:[{name:{contains:e}},{code:{contains:e}}]}})).map(e=>({id:e.id,name:e.name,code:e.code,duration:e.duration}))}catch(e){throw console.error("Error fetching programs:",e),Error("Failed to fetch programs")}}async function d(e){try{let a=await l.program.create({data:{name:e.name,code:e.code,duration:e.duration}});return{id:a.id,name:a.name,code:a.code,duration:a.duration}}catch(e){throw console.error("Error saving program:",e),Error("Failed to save program")}}async function i(e,a){try{let r=await l.program.update({where:{id:e},data:{name:a.name,code:a.code,duration:a.duration}});if(!r)throw Error("Program not found");return{id:r.id,name:r.name,code:r.code,duration:r.duration}}catch(e){throw console.error("Error updating program:",e),Error("Failed to update program")}}async function c(e){try{return await l.program.delete({where:{id:e}}),!0}catch(e){throw console.error("Error deleting program:",e),Error("Failed to delete program")}}(0,o.D)([n,d,i,c]),(0,s.A)(n,"40c30ad529826d855aa0f4ff34e88823dfd459ce82",null),(0,s.A)(d,"4018d6ea0ba7cf7d8bbbf9321d2cafd34e0b64ad31",null),(0,s.A)(i,"60cf02a8bdb0761cfb276abdf436720be179b06ad5",null),(0,s.A)(c,"40fe00409c8995953620122ffef86ff2895f191adc",null)},9925:(e,a,r)=>{Promise.resolve().then(r.bind(r,6038))},6373:(e,a,r)=>{Promise.resolve().then(r.bind(r,285))},6155:(e,a,r)=>{Promise.resolve().then(r.bind(r,2765))},9299:(e,a,r)=>{Promise.resolve().then(r.bind(r,8228))},285:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var s=r(5512),t=r(8009),o=r(3437),l=r(4195);let n=t.forwardRef(({className:e,children:a,...r},t)=>(0,s.jsxs)(o.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",e),...r,children:[(0,s.jsx)(o.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(d,{}),(0,s.jsx)(o.OK,{})]}));n.displayName=o.bL.displayName;let d=t.forwardRef(({className:e,orientation:a="vertical",...r},t)=>(0,s.jsx)(o.VM,{ref:t,orientation:a,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:(0,s.jsx)(o.lr,{className:"relative flex-1 rounded-full bg-border"})}));d.displayName=o.VM.displayName;var i=r(2933),c=r(5446),m=r(4269),u=r(4520),p=r(6008),f=r(6953);function x({children:e}){let a=(0,f.useRouter)();async function r(){try{document.cookie="session=; Max-Age=0; path=/; secure; sameSite=strict",a.push("/auth/admin")}catch(e){console.error("Failed to logout:",e)}}return(0,s.jsx)("section",{children:(0,s.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,s.jsxs)("div",{className:"w-64 bg-white shadow-lg",children:[(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel"})}),(0,s.jsx)(n,{className:"h-[calc(100vh-100px)]",children:(0,s.jsxs)("div",{className:"space-y-2 p-4",children:[(0,s.jsxs)(p.default,{href:"/admin/dashboard",className:"flex items-center space-x-3 rounded-lg px-3 py-2 hover:bg-gray-100",children:[(0,s.jsx)(i.aL$,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Dashboard"})]}),(0,s.jsxs)(p.default,{href:"/admin/students",className:"flex items-center space-x-3 rounded-lg px-3 py-2 hover:bg-gray-100",children:[(0,s.jsx)(i.nXn,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Students"})]}),(0,s.jsxs)(p.default,{href:"/admin/categories",className:"flex items-center space-x-3 rounded-lg px-3 py-2 hover:bg-gray-100",children:[(0,s.jsx)(c.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Categories"})]}),(0,s.jsxs)(p.default,{href:"/admin/resources",className:"flex items-center space-x-3 rounded-lg px-3 py-2 hover:bg-gray-100",children:[(0,s.jsx)(m.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Resources"})]}),(0,s.jsxs)(p.default,{href:"/admin/programs",className:"flex items-center space-x-3 rounded-lg px-3 py-2 hover:bg-gray-100",children:[(0,s.jsx)(u.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Programs"})]}),(0,s.jsxs)("button",{onClick:r,className:"flex w-full items-center space-x-3 rounded-lg px-3 py-2 text-red-600 hover:bg-red-50",children:[(0,s.jsx)(i.Gq2,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Logout"})]})]})})]}),e]})})}},8228:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>ec});var s=r(5512),t=r(8009),o=r(9400),l=r(3134),n=r(7722),d=r(2405),i=r(2101),c=r(4195);let m=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)(d.b,{ref:r,className:(0,c.cn)(m(),e),...a}));function p({onSave:e}){let[a,r]=(0,t.useState)({name:"",code:"",duration:""}),[d,i]=(0,t.useState)(!1),c=e=>{let{id:a,value:s}=e.target;r(e=>({...e,[a]:s}))},m=async s=>{if(s.preventDefault(),a.name&&a.code&&a.duration)try{i(!0),await e({name:a.name,code:a.code,duration:parseInt(a.duration,10)}),r({name:"",code:"",duration:""})}catch(e){console.error("Failed to save program:",e)}finally{i(!1)}};return(0,s.jsxs)(l.lG,{children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"outline",className:"flex items-center px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add Program"})}),(0,s.jsxs)(l.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(l.c7,{children:[(0,s.jsx)(l.L3,{children:"New Program"}),(0,s.jsx)(l.rr,{children:"Add New Program. Click save when you're done."})]}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(u,{htmlFor:"name",className:"text-right",children:"Name"}),(0,s.jsx)(n.p,{id:"name",value:a.name,onChange:c,className:"col-span-3",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(u,{htmlFor:"code",className:"text-right",children:"Code"}),(0,s.jsx)(n.p,{id:"code",value:a.code,onChange:c,className:"col-span-3",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(u,{htmlFor:"duration",className:"text-right",children:"Duration (years)"}),(0,s.jsx)(n.p,{id:"duration",type:"number",value:a.duration,onChange:c,className:"col-span-3",required:!0})]})]}),(0,s.jsx)(l.Es,{children:(0,s.jsx)(o.$,{type:"submit",children:"Save Program"})})]})]})]})}u.displayName=d.b.displayName;var f=r(1680);let x=(0,f.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),h=({program:e,onUpdate:a})=>{let[r,d]=(0,t.useState)(!1),[i,c]=(0,t.useState)({name:e.name,code:e.code,duration:e.duration.toString()}),[m,u]=(0,t.useState)(!1),p=e=>{let{id:a,value:r}=e.target;c(e=>({...e,[a]:r}))},f=async r=>{if(r.preventDefault(),i.name&&i.code&&i.duration)try{u(!0),await a(e.id,{name:i.name,code:i.code,duration:parseInt(i.duration,10)}),d(!1)}catch(e){console.error("Failed to update program:",e)}finally{u(!1)}};return(0,s.jsxs)(l.lG,{open:r,onOpenChange:d,children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",className:"text-blue-500 hover:text-blue-700 p-2",children:(0,s.jsx)(x,{className:"h-5 w-5"})})}),(0,s.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,s.jsx)(l.c7,{children:(0,s.jsx)(l.L3,{children:"Edit Program"})}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-sm font-medium",children:"Program Name"}),(0,s.jsx)(n.p,{id:"name",value:i.name,onChange:p,className:"w-full",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"code",className:"text-sm font-medium",children:"Program Code"}),(0,s.jsx)(n.p,{id:"code",value:i.code,onChange:p,className:"w-full",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"duration",className:"text-sm font-medium",children:"Duration (weeks)"}),(0,s.jsx)(n.p,{id:"duration",type:"number",value:i.duration,onChange:p,className:"w-full",required:!0,min:"1"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:m,children:"Cancel"}),(0,s.jsx)(o.$,{type:"submit",disabled:m,children:m?"Saving...":"Save Changes"})]})]})]})]})};var g=r(6004),j=r(9952),b=r(7553),y=r(1412),v=r(2705),N="AlertDialog",[w,P]=(0,g.A)(N,[b.Hs]),C=(0,b.Hs)(),k=e=>{let{__scopeAlertDialog:a,...r}=e,t=C(a);return(0,s.jsx)(b.bL,{...t,...r,modal:!0})};k.displayName=N;var R=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,o=C(r);return(0,s.jsx)(b.l9,{...o,...t,ref:a})});R.displayName="AlertDialogTrigger";var S=e=>{let{__scopeAlertDialog:a,...r}=e,t=C(a);return(0,s.jsx)(b.ZL,{...t,...r})};S.displayName="AlertDialogPortal";var A=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,o=C(r);return(0,s.jsx)(b.hJ,{...o,...t,ref:a})});A.displayName="AlertDialogOverlay";var D="AlertDialogContent",[F,E]=w(D),M=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,children:o,...l}=e,n=C(r),d=t.useRef(null),i=(0,j.s)(a,d),c=t.useRef(null);return(0,s.jsx)(b.G$,{contentName:D,titleName:_,docsSlug:"alert-dialog",children:(0,s.jsx)(F,{scope:r,cancelRef:c,children:(0,s.jsxs)(b.UC,{role:"alertdialog",...n,...l,ref:i,onOpenAutoFocus:(0,y.m)(l.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,s.jsx)(v.xV,{children:o}),(0,s.jsx)(G,{contentRef:d})]})})})});M.displayName=D;var _="AlertDialogTitle",q=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,o=C(r);return(0,s.jsx)(b.hE,{...o,...t,ref:a})});q.displayName=_;var H="AlertDialogDescription",L=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,o=C(r);return(0,s.jsx)(b.VY,{...o,...t,ref:a})});L.displayName=H;var T=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,o=C(r);return(0,s.jsx)(b.bm,{...o,...t,ref:a})});T.displayName="AlertDialogAction";var U="AlertDialogCancel",$=t.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...t}=e,{cancelRef:o}=E(U,r),l=C(r),n=(0,j.s)(a,o);return(0,s.jsx)(b.bm,{...l,...t,ref:n})});$.displayName=U;var G=({contentRef:e})=>{let a=`\`${D}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${D}\` by passing a \`${H}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${D}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null};let O=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)(A,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));O.displayName=A.displayName;let z=t.forwardRef(({className:e,...a},r)=>(0,s.jsxs)(S,{children:[(0,s.jsx)(O,{}),(0,s.jsx)(M,{ref:r,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));z.displayName=M.displayName;let I=({className:e,...a})=>(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});I.displayName="AlertDialogHeader";let V=({className:e,...a})=>(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});V.displayName="AlertDialogFooter";let B=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)(q,{ref:r,className:(0,c.cn)("text-lg font-semibold",e),...a}));B.displayName=q.displayName;let K=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)(L,{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",e),...a}));K.displayName=L.displayName;let X=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)(T,{ref:r,className:(0,c.cn)((0,o.r)(),e),...a}));X.displayName=T.displayName;let Y=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)($,{ref:r,className:(0,c.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));Y.displayName=$.displayName;let J=(0,f.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Z=({program:e,onDelete:a})=>{let[r,l]=(0,t.useState)(!1),[n,d]=(0,t.useState)(!1);return(0,s.jsxs)(k,{children:[(0,s.jsx)(R,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",className:"text-red-500 hover:text-red-700 p-2",children:(0,s.jsx)(J,{className:"h-5 w-5"})})}),(0,s.jsxs)(z,{children:[(0,s.jsxs)(I,{children:[(0,s.jsx)(B,{children:"Are you absolutely sure?"}),(0,s.jsxs)(K,{children:['This will permanently delete the program "',e.name,'" (',e.code,"). This action cannot be undone."]})]}),(0,s.jsxs)(V,{children:[(0,s.jsx)(Y,{type:"button",onClick:()=>l(!1),children:"Cancel"}),(0,s.jsx)(X,{className:"bg-red-500 hover:bg-red-600",onClick:()=>a(e.id),children:"Delete Program"})]})]})]})},Q=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,c.cn)("w-full caption-bottom text-sm",e),...a})}));Q.displayName="Table";let W=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("thead",{ref:r,className:(0,c.cn)("[&_tr]:border-b",e),...a}));W.displayName="TableHeader";let ee=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,c.cn)("[&_tr:last-child]:border-0",e),...a}));ee.displayName="TableBody",t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let ea=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("tr",{ref:r,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));ea.displayName="TableRow";let er=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("th",{ref:r,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));er.displayName="TableHead";let es=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("td",{ref:r,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));es.displayName="TableCell";let et=t.forwardRef(({className:e,...a},r)=>(0,s.jsx)("caption",{ref:r,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",e),...a}));et.displayName="TableCaption";var eo=r(6248);let el=(0,eo.createServerReference)("40c30ad529826d855aa0f4ff34e88823dfd459ce82",eo.callServer,void 0,eo.findSourceMapURL,"getPrograms"),en=(0,eo.createServerReference)("4018d6ea0ba7cf7d8bbbf9321d2cafd34e0b64ad31",eo.callServer,void 0,eo.findSourceMapURL,"saveProgram"),ed=(0,eo.createServerReference)("60cf02a8bdb0761cfb276abdf436720be179b06ad5",eo.callServer,void 0,eo.findSourceMapURL,"updateProgram"),ei=(0,eo.createServerReference)("40fe00409c8995953620122ffef86ff2895f191adc",eo.callServer,void 0,eo.findSourceMapURL,"deleteProgram");function ec(){let[e,a]=(0,t.useState)([]),[r,o]=(0,t.useState)(!0),[l,d]=(0,t.useState)(null),[i,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(null),[f,x]=(0,t.useState)(""),[g,j]=(0,t.useState)(null),b=async()=>{try{o(!0);let e=await el(f);a(e),d(null)}catch(e){d("Failed to fetch programs"),console.error("Error fetching programs:",e)}finally{o(!1)}},y=async e=>{try{await en(e),await b()}catch(e){console.error("Failed to save program:",e),d("Failed to save program")}},v=async(e,a)=>{try{await ed(e,a),await b()}catch(e){console.error("Failed to update program:",e),d("Failed to update program")}},N=async e=>{try{await ei(e),await b(),c(!1),u(null)}catch(e){console.error("Failed to delete program:",e),d("Failed to delete program")}},w=e=>{j(a=>a?.key===e?{key:e,direction:"asc"===a.direction?"desc":"asc"}:{key:e,direction:"asc"})},P=[...e].sort((e,a)=>{if(!g)return 0;let r=e[g.key],s=a[g.key];return r<s?"asc"===g.direction?-1:1:r>s?"asc"===g.direction?1:-1:0});return r?(0,s.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-gray-500",children:"Loading programs..."})})}):l?(0,s.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-red-500",children:l})})}):(0,s.jsx)("div",{className:"flex-1 overflow-auto p-8",children:(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-800",children:"Programs"}),(0,s.jsx)(p,{onSave:y})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(n.p,{type:"search",placeholder:"Search programs...",value:f,onChange:e=>x(e.target.value),className:"max-w-sm"})}),l&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-50 text-red-500 rounded",children:l}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(Q,{className:"w-full mt-4 border border-gray-200 rounded-lg shadow-sm [&_td]:border-l [&_th]:border-l",children:[(0,s.jsx)(et,{children:"List of all programs"}),(0,s.jsx)(W,{children:(0,s.jsxs)(ea,{children:[(0,s.jsxs)(er,{className:"font-semibold cursor-pointer hover:bg-gray-50",onClick:()=>w("name"),children:["Name ",g?.key==="name"&&("asc"===g.direction?"↑":"↓")]}),(0,s.jsxs)(er,{className:"font-semibold cursor-pointer hover:bg-gray-50",onClick:()=>w("code"),children:["Code ",g?.key==="code"&&("asc"===g.direction?"↑":"↓")]}),(0,s.jsxs)(er,{className:"font-semibold cursor-pointer hover:bg-gray-50",onClick:()=>w("duration"),children:["Duration ",g?.key==="duration"&&("asc"===g.direction?"↑":"↓")]}),(0,s.jsx)(er,{className:"font-semibold",children:"Actions"})]})}),(0,s.jsxs)(ee,{children:[P.map(e=>(0,s.jsxs)(ea,{children:[(0,s.jsx)(es,{children:e.name}),(0,s.jsx)(es,{children:e.code}),(0,s.jsxs)(es,{children:[e.duration," years"]}),(0,s.jsx)(es,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h,{program:e,onUpdate:v}),(0,s.jsx)(Z,{program:e,onDelete:N})]})})]},e.id)),0===P.length&&(0,s.jsx)(ea,{children:(0,s.jsx)(es,{colSpan:4,className:"text-center text-gray-500",children:"No programs found"})})]})]})})]})})}},6038:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\Desktop\\\\Projects\\\\student-resource-centre\\\\src\\\\app\\\\admin\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\admin\\layout.tsx","default")},2765:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\Desktop\\\\Projects\\\\student-resource-centre\\\\src\\\\app\\\\admin\\\\programs\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Desktop\\Projects\\student-resource-centre\\src\\app\\admin\\programs\\page.tsx","default")}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[989,735,66,10,8,515,325,635,757,706],()=>r(3544));module.exports=s})();